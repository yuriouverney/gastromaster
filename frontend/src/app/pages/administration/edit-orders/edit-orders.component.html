<div class="start-pages">
  <div class="row"> 
    <div class="col-lg-12">
      <mat-card class="cardWithShadow">
        <mat-card-content class="p-24">
          <div class="w-100">
            <mat-card-title>Editar Pedido</mat-card-title>
            <div class="col-lg-12 mt-4">

              <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">

                <div formGroupName="User">
                  <div class="form-group">
                    <label for="name">Nome:</label>
                    <input type="text" class="form-control" id="name" formControlName="name" readonly>
                  </div>
                </div>


                <div class="form-group">
                  <label for="status">Status:</label>
                  <select class="form-control" id="status" formControlName="status">
                    <option *ngFor="let status of statusOptions" [value]="status.value">{{ status.description }}</option>
                  </select>
                  <div *ngIf="orderForm.get('status')?.invalid && (orderForm.get('status')?.dirty || orderForm.get('status')?.touched)">
                    <div *ngIf="orderForm.get('status')?.errors?.['required']">Status é obrigatória.</div>
                  </div>
                </div>          

                  <div class="form-group">
                    <label for="name">Valor:</label>
                    <input type="name" class="form-control" id="name" formControlName="order_price" readonly>
                    <div *ngIf="orderForm.get('order_price')?.invalid && (orderForm.get('order_price')?.dirty || orderForm.get('order_price')?.touched)">
                      <div *ngIf="orderForm.get('order_price')?.errors?.['required']">Valor é obrigatório.</div>
                    </div>
                  </div>   

                  <div class="form-group">
                    <label for="name">Data do Pedido:</label>
                    <input type="name" class="form-control" id="name" formControlName="createdAt" readonly>
                    <div *ngIf="orderForm.get('createdAt')?.invalid && (orderForm.get('createdAt')?.dirty || orderForm.get('createdAt')?.touched)">
                      <div *ngIf="orderForm.get('createdAt')?.errors?.['required']">Data é obrigatória.</div>
                    </div>
                  </div>   

                <!-- Botão de envio do formulário -->
                <button type="button" class="btn btn-primary" (click)="onBack()">Voltar</button>   
                <button type="submit" class="btn btn-primary ml-2">Enviar</button>  
              </form>

            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>

<div class="start-pages">
  <div class="row"> 
    <div class="col-lg-12">
      <mat-card class="cardWithShadow">
        <mat-card-content class="p-24">
          <div class="w-100">
            <mat-card-title>Itens do Pedido</mat-card-title>
            <div class="col-lg-12 mt-4">
              <mat-card class="cardWithShadow">
                <mat-card-content class="p-24">
                  <div class="table-responsive m-t-16">
                    <div>
                      <mat-form-field>
                        <input matInput [formControl]="searchInput" placeholder="Pesquisar">
                      </mat-form-field>
                    </div>
                    <table mat-table [dataSource]="dataSource" class="w-100">
                      <!-- Position Column -->
                      <ng-container matColumnDef="id">
                        <th
                          mat-header-cell
                          *matHeaderCellDef
                          class="f-w-600 mat-subtitle-1 f-s-14"
                        >
                          Id
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <div class="d-flex align-items-center">
                            <div>
                              <h6 class="mat-subtitle-1 f-s-14 f-w-600">
                                {{ element.id }}
                              </h6>
                            </div>
                          </div>
                        </td>
                      </ng-container>
          
                      <!-- Name Column -->
                      <ng-container matColumnDef="name">
                        <th
                          mat-header-cell
                          *matHeaderCellDef
                          class="f-w-600 mat-subtitle-1 f-s-14"
                        >
                          Nome
                        </th>
                        <td mat-cell *matCellDef="let element" class="mat-body-1">
                          {{ element.product.name }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="description">
                        <th
                          mat-header-cell
                          *matHeaderCellDef
                          class="f-w-600 mat-subtitle-1 f-s-14"
                        >
                          Descrição
                        </th>
                        <td mat-cell *matCellDef="let element" class="mat-body-1">
                          {{ element.product.description }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="price">
                        <th
                          mat-header-cell
                          *matHeaderCellDef
                          class="f-w-600 mat-subtitle-1 f-s-14"
                        >
                          Preço
                        </th>
                        <td mat-cell *matCellDef="let element" class="mat-body-1">
                          {{ element.price }}
                        </td>
                      </ng-container>      

                      <ng-container matColumnDef="actions">
                        <th
                          mat-header-cell
                          *matHeaderCellDef
                          class="f-w-600 mat-subtitle-1 f-s-14"
                        >
                        Ações
                        </th>
                        <td mat-cell *matCellDef="let element">
                          <button title="Visualizar categoria" mat-icon-button (click)="onRemove(element.id)">
                            <mat-icon>delete</mat-icon>
                          </button>
                        </td>
                      </ng-container>
          
                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                    </table>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
            <div class="m-l-auto">
            </div>
          </div>
        </mat-card-content>
        
      </mat-card>
    </div>
  </div>
</div>